<html>

  <head>
    <title>PruebaGrafico</title>
    <script src="Librerias/Chart.js"></script>
    <style>
    #idGrafico{
      width: 30%;
      height: 30%;
      float: left;
    }
    #aaa{
      float: right;
    }
    </style>
  </head>

  <body>
    <div id="idGrafico">
        <canvas id="myChart"></canvas>
    </div>
    <div style="float: right;">
        <form action="" method="post" ></form>
        <p> <label>velocidad : <input type="number" id="vel" name="posicion" id="posicion" ></label> </p>    
            <p> <label>Parada a la que ir:
                <select id="stop">
                    <option selected="true" disabled>seleccione la parada</option>
                    <option name="parad" value="1">1</option>
                    <option name="parad" value="2">2</option>
                    <option name="parad" value="3">3</option>
                    <option name="parad" value="4">4</option>
                    <option name="parad" value="5">5</option>
                    <option name="parad" value="6">6</option>
                    <option name="parad" value="7">7</option>
                    <option name="parad" value="8">8</option>
                    <option name="parad" value="9">9</option>
    
                </select>
                <br><br>
                <input type="submit" class="botonIr" value="Ir" onclick="asignarVel()">
            </label> </p>
        </form>
    </div>
  </body>

  <script>

let v1, v2, v3, v4, v5, v6, v7, v8, v9 = 0;
ejecGrafico();
function ejecGrafico() {
    alert("ejecutando")
    var ctx = document.getElementById('myChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: ['1', '2', '3', '4', '5', '6', '7', '8', '9'],
            datasets: [{
                label: 'Velocity',
                data: [v1, v2, v3, v4, v5, v6, v7, v8, v9],
                backgroundColor: 'rgba(26, 129, 102, 0.2)',
                borderColor: "#3cba9f",
                borderWidth: 1
            }]
        },
        
    });
}
    
    function asignarVel(){
      let velo = document.getElementById("vel").value;
      let stop = document.getElementById("stop").value;
      asignarVelocidad(parseInt(velo), parseInt(stop));
    }

    function asignarVelocidad(velocidad, punto) {
      switch (punto) {
        case 1:
          v1 = velocidad
          ejecGrafico();
          break;
        case 2:
          v2 = velocidad
          ejecGrafico();
          break;
        case 3:
          v3=velocidad
          ejecGrafico();
          break;
        case 4:
          v4=velocidad
          ejecGrafico();
          break;
        case 5:
          v5=velocidad
          ejecGrafico();
          break;
        case 6:
          v6=velocidad
          ejecGrafico();
          break;
        case 7:
          v7=velocidad
          ejecGrafico();
          break;
        case 8:
          v8=velocidad
          ejecGrafico();
          break;
        case 9:
          v9=velocidad
          ejecGrafico();
          break;

        
      }
    }
    </script>
</html>
